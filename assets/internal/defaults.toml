# KYCo Internal Defaults
# ======================
# This file contains the built-in agents that ship with KYCo.
# These are automatically merged into user configs based on version numbers.
#
# VERSION POLICY:
# - Bump the version when changing an agent
# - Higher versions will override user customizations (by design)
# - If you want to keep a user's customizations, don't bump the version
#
# SKILLS:
# Skills are loaded from SKILL.md files in:
# - Project-local: `.claude/skills/<name>/SKILL.md` or `.codex/skills/<name>/SKILL.md`
# - Global: `~/.kyco/skills/<name>/SKILL.md`
#
# Create skills with: kyco skill create <name> --description "..."
# See https://agentskills.io/specification for the SKILL.md format.
#
# CHAINS:
# Chains are user-defined sequences of skills. Create them in the GUI
# or with: kyco chain set <name> --steps skill1,skill2,skill3

# ============================================================================
# AGENTS - Default AI backends
# ============================================================================

[agent.claude]
version = 1
aliases = ["c", "cl"]
sdk = "claude"
session_mode = "oneshot"
system_prompt_mode = "append"

[agent.codex]
version = 1
aliases = ["x", "cx"]
sdk = "codex"
session_mode = "oneshot"
system_prompt_mode = "append"

# ============================================================================
# CHAINS - BugBounty / Security
# ============================================================================

[chain.audit-file]
version = 1
description = "Security audit pipeline for a single file (bugbounty-oriented)"
states = []
stop_on_failure = false
pass_full_response = true
max_loops = 1

[[chain.audit-file.steps]]
mode = "authz-bypass-hunter"

[[chain.audit-file.steps]]
mode = "injection-hunter"

[[chain.audit-file.steps]]
mode = "secrets-hunter"

[[chain.audit-file.steps]]
mode = "crypto-audit"

[[chain.audit-file.steps]]
mode = "jwt-attack-surface"

[[chain.audit-file.steps]]
mode = "dos-resource-exhaustion"

[[chain.audit-file.steps]]
mode = "flow-trace"
inject_context = "If findings were identified, aggregate cross-file flow_edges for each finding_id. Keep edges minimal and precise."

[chain.audit-project]
version = 1
description = "Security audit pipeline for an entire project (bugbounty-oriented)"
states = []
stop_on_failure = false
pass_full_response = true
max_loops = 1

[[chain.audit-project.steps]]
mode = "secrets-hunter"

[[chain.audit-project.steps]]
mode = "injection-hunter"

[[chain.audit-project.steps]]
mode = "authz-bypass-hunter"

[[chain.audit-project.steps]]
mode = "crypto-audit"

[[chain.audit-project.steps]]
mode = "flow-trace"
inject_context = "Aggregate cross-file flow_edges across all discovered findings. Use finding_id on each edge when possible."
